(this["webpackJsonptreller-react"]=this["webpackJsonptreller-react"]||[]).push([[0],{127:function(t,e){},130:function(t,e,n){},131:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),u=n(16),i=n(11),s=n(3),l=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Home Page"))},d=function(){return a.a.createElement("nav",{className:"main-navbar"},a.a.createElement(i.b,{to:"/",className:"main-navbar-nav-link",exact:!0,activeClassName:"active"},"Home "),"| ",a.a.createElement(i.b,{to:"/boards",className:"main-navbar-nav-link",exact:!0,activeClassName:"active"},"Boards "))},f=n(2),p=n.n(f),m=n(8),b=n(41),v=function(){var t=Object(s.f)();console.log("history",t);var e=Object(u.d)((function(t){return t.board.boards})),n=Object(u.c)();return Object(r.useEffect)((function(){(function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Object(b.b)());case 2:console.log("adsasd");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),a.a.createElement("div",null,a.a.createElement("h1",null,"Boards new"),e&&e.length&&e.map((function(t){return a.a.createElement("div",{key:t._id},a.a.createElement(i.b,{to:"board/".concat(t._id)},t._id))})))},h=a.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,186))}));var O=function(){return a.a.createElement("main",null,a.a.createElement(i.a,null,a.a.createElement(d,null),a.a.createElement(s.c,null,a.a.createElement(s.a,{path:"/boards",component:v}),a.a.createElement(r.Suspense,{fallback:a.a.createElement("h1",{style:{paddingTop:"50px",fontSize:"100px"}},"Still Loading\u2026")},a.a.createElement(s.a,{path:"/board/:boardId",component:h})),a.a.createElement(s.a,{path:"/",component:l}))))};n(130),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(14),y=n(70),g=n(4),k={boards:null,currBoard:null,currTask:null,isExpanded:!1},w={isInitialAddition:!1},j=Object(E.e)(Object(E.c)({board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_BOARDS":return Object(g.a)(Object(g.a)({},t),{},{boards:JSON.parse(JSON.stringify(e.boards))});case"SET_BOARD":return Object(g.a)(Object(g.a)({},t),{},{currBoard:JSON.parse(JSON.stringify(e.currBoard))});case"SET_TASK":var n;return t.currBoard.taskLists.forEach((function(t){t.tasks.find((function(t){t.id===e.id&&(n=t)}))})),Object(g.a)(Object(g.a)({},t),{},{currTask:n?Object(g.a)({},n):null});case"UPDATE_TASK":return Object(g.a)(Object(g.a)({},t),{},{currTask:Object(g.a)({},e.currTask)});case"TOGGLE_LABELS":return Object(g.a)(Object(g.a)({},t),{},{isExpanded:!t.isExpanded});default:return t}},general:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_INITIAL_ADDITION":return Object(g.a)(Object(g.a)({},t),{},{isInitialAddition:e.isInitial});default:return t}}}),Object(E.a)(y.a));o.a.render(a.a.createElement(u.a,{store:j},a.a.createElement(a.a.StrictMode,null,a.a.createElement(O,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},15:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(28),a=n(42),c={makeId:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},applyDrag:function(t,e){var n=e.removedIndex,r=e.addedIndex,c=e.payload;if(null===n&&null===r)return console.log("apply drag null"),t;var o=Object(a.a)(t),u=c;null!==n&&(u=o.splice(n,1)[0]);null!==r&&o.splice(r,0,u);return o},reorder:function(t,e,n){var a=Array.from(t),c=a.splice(e,1),o=Object(r.a)(c,1)[0];return a.splice(n,0,o),a},move:function(t,e,n,a){var c=Array.from(t),o=Array.from(e),u=c.splice(n.index,1),i=Object(r.a)(u,1)[0];o.splice(a.index,0,i);var s={};return s[n.droppableId]=c,s[a.droppableId]=o,s}}},19:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(2),a=n.n(r),c=n(8),o=n(68),u=n.n(o).a.create({withCredentials:!0}),i=function(t,e){return l(t,"GET",e)},s=function(t,e){return l(t,"PUT",e)};function l(t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark((function t(e){var n,r,c,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"get",r=o.length>2&&void 0!==o[2]?o[2]:null,t.prev=2,t.next=5,u({url:"".concat("/api/").concat(e),method:n,data:r});case 5:return c=t.sent,t.abrupt("return",c.data);case 9:if(t.prev=9,t.t0=t.catch(2),401!==t.t0.response.status){t.next=14;break}throw console.log("ERROR: cannot find boards"),t.t0;case 14:throw t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var f=n(15),p={query:function(){return i("board")},getById:function(t){return m.apply(this,arguments)},update:function(t){return b.apply(this,arguments)},getEmptyList:function(){return{id:f.a.makeId(),title:"",theme:"white",tasks:[]}},getEmptyTask:function(){return{id:f.a.makeId(),title:"",description:"",creatorId:"",membersId:[],comments:[],dueDate:"",labels:[],isDone:!1,images:[],checklists:[],cover:{background:"",isFull:null,type:null}}},getEmptyCheckList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Checklist";return{id:f.a.makeId(),title:t,listItems:[]}},getEmptyListItem:function(){return{id:f.a.makeId(),title:"",isDone:!1}},newActivity:function(t,e,n){return{id:f.a.makeId(),cardTxt:t,boardTxt:e,taskId:n,date:Date.now()}}};function m(){return(m=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i("board/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s("board/".concat(e._id),e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},41:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return m}));var r=n(2),a=n.n(r),c=n(8),o=n(19),u=n(52);function i(){return function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.query();case 2:(n=t.sent)&&e({type:"SET_BOARDS",boards:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function s(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.getById(t);case 3:r=e.sent,n({type:"SET_BOARD",currBoard:r}),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.warn("cannot save board",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function l(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(t)),e.next=3,o.a.update(r);case 3:c=e.sent,n({type:"SET_BOARD",currBoard:c}),u.a.emit("update board",c),console.log("afte boarrd saved",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function d(t){return function(e){e({type:"SET_BOARD",currBoard:t})}}function f(t){return function(){var e=Object(c.a)(a.a.mark((function e(n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"SET_TASK",id:t});case 2:return e.abrupt("return",r().board.currTask);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function p(t){return function(e){e({type:"UPDATE_TASK",currTask:t})}}function m(){return function(t){t({type:"TOGGLE_LABELS"})}}},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,a=n(69),c=n.n(a),o={setup:function(){r=c()("/")},terminate:function(){r=null},on:function(t,e){r.on(t,e)},off:function(t,e){r&&r.off(t,e)},emit:function(t,e){r&&r.emit(t,e)}}},71:function(t,e,n){t.exports=n(131)}},[[71,1,2]]]);
//# sourceMappingURL=main.2c715c7a.chunk.js.map